% `his` 改造技术评估
% 杨建东
% 2017年9月28

# 公司`his`产品现状

## 技术资源

- `pb` 开发人员很难找
- `pb` 技术出现老化

## 产品

- 传统 `c/s` 架构
- 很难适应新的应用场景，区域医疗、云部署等等

# 改造方案

## 三层架构

- 面向服务
- 所有业务通过服务发布，客户端只负责展现界面，原则上不处理业务
- 按业务划分成多个服务，如
    - 挂号
    - 门诊
    - 住院
    - 手术

## 服务端方案

- 就业界和我们公司的现状，`Java` 是最好的选择

## 客户端方案

- 浏览器
- 桌面程序
- 移动端

## 浏览器

- 对操作易用性、操作响应时间等有较高要求，实现需要花费的代价很大，并且不一定能满足要求
- 第三方接口，一般以PC端`DLL`方式接入，或者需要访问本地硬件，主要包括医保、身份证读卡器、报价器、打印机等等，浏览器支持比较差

## 桌面程序

- 选择很明确，就目前IDE和软件生态系统而言，目前唯一可选择开发工具是 `C#`

## 最终方案

- `Java` 实现后台服务
- `C#` 实现`his` 客户端

# 需解决的问题

## 开发

- 开发模式: 前后端分离
- `C#` 开发人员

## 测试

- 服务端必须测试
    - 程序员 `JUnit` 测试
    - 用例测试，集成测试
    - 性能测试
- 客户端测试
- 解决测试基本靠手的问题，形成自动化测试

## 困难

- 增加产品运维难度、成本
- 面临性能大考验

# 方法总比困难多
