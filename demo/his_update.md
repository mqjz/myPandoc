% `his` 改造技术评估
% 杨建东
% 2017年9月28

# 公司`his`产品现状

## 技术资源

- `pb` 开发人员很难找
- `pb` 技术出现老化

## 产品

- 主要采用传统 `c/s` 架构
- 主要是医院内部应用，很难适应新的场景，如区域医疗、云服务等等
- 移动护理、医生站、门诊输液

# 改造方案

## 三层架构

- 面向服务
- 所有业务通过服务发布，客户端只负责展现界面，原则上不处理业务
- 按业务划分成多个服务，如
    - 挂号
    - 门诊
    - 住院
    - 手术

## 服务端

- 就业界和我们公司的现状，`Java` 是最好的选择
- `Java` 最大的优势在于其庞大而完善的生态系统

## 客户端

- 浏览器
- 桌面程序
- 移动端

## 浏览器

- 优势
    - 无客户端程序
- 问题
    - 浏览器兼容，`js` 性能
    - 操作易用性、响应时间等有较高要求，实现需要花费的代价很大，并且不一定能满足要求
    - 第三方接口，一般以PC端`DLL`方式接入，或者需要访问本地硬件(主要包括医保、身份证读卡器、报价器、打印机等等)，浏览器支持比较差
- 开发语言
    - `js`

## 桌面程序

- 优势
    - 富客户端，操作性强
- 问题
    - 有客户端程序
- 开发语言    
    - win 平台，选择很明确，就目前软件生态系统而言，开发工具 `C#`

## 最终方案

- `Java` 实现后台服务
- 根据场景选择，`C#` 实现`his` 客户端

# 需解决的问题

## 开发

- 开发模式: 前后端分离
- `C#` 开发人员

## 测试

- 服务端必须测试
    - 程序员 `JUnit` 测试
    - 用例测试，集成测试
    - 性能测试
- 客户端测试
- 解决测试基本靠手的问题，形成自动化测试

## 困难

- 增加产品开发和运维的难度、成本
- 面临性能大考验

